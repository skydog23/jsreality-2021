## Tool System Status Update (26-01-28)

This updates `docs/25-11-24.TOOL_SYSTEM_TRANSLATION_REPORT.md` with current status in:
- `src/core/scene/tool/`
- `src/core/tools/`

Note: the recent `VirtualExclusiveAxis` experiment is currently stashed and therefore not part of active runtime state.

### 1) Current Translation Status

#### `src/core/scene/tool/` (framework layer)

The core tool framework is largely translated and operational:

- `ToolSystem`, `ToolManager`, `SlotManager`
- `DeviceManager`
- `ToolEvent`, `ToolEventQueue`, `ToolContext`
- `ToolSystemConfiguration` family
- `InputSlot`, `AxisState`, `AbstractTool`
- Raw devices: mouse, keyboard, system timer
- Virtual devices implemented:
  - `VirtualMap`
  - `VirtualDoubleClick`
  - `VirtualCoupledAxis`
  - `VirtualMergedAxis`
  - `VirtualToggleAxis`
  - `VirtualRotation`
  - `VirtualExtractTranslationTrafo`
  - `VirtualEvolutionOperator`
  - `VirtualInvertMatrix`
  - `VirtualProductMatrix`
  - `VirtualExtractAxis`
  - `VirtualMousePointerTrafo`
  - `VirtualRawMousePointerTrafo`

Remaining/partial compared to full jReality ecosystem:

- Some Java-era pieces still absent (for example BeanShell-specific tooling).
- A number of specialized virtual devices remain untranslated.
- Proxy/update infrastructure parity (e.g. `ToolUpdateProxy` style behavior) remains incomplete.

#### `src/core/tools/` (tool implementations)

Implemented and active:

- `RotateTool`
- `TranslateTool`
- `DraggingTool`
- `DragPointTool`
- `EncompassTool`
- `ClickWheelCameraZoomTool`

Still missing from broader jReality catalog:

- Many navigation/scale/alternate rotate tools
- Event-listener/multicaster tool family
- Several specialized interaction tools

Practical assessment:

- Framework parity: good for current development and testing workflows.
- Tool parity: still the major remaining translation area.

### 2) InputSlots Carrying Transformation Payloads

Below are slots that currently carry matrix transformations through `ToolEvent.getTransformation()` and/or `ToolContext.getTransformationMatrix(...)`.

#### Raw-produced transformation slots

- `PointerNDC`
  - Producer: raw mouse mapping (`axes`)
  - Meaning: pointer position in normalized device coordinates encoded as a 4x4 transform.

- `PointerEvolution` (or configured alias variants)
  - Producer: raw mouse mapping (`axesEvolution`)
  - Meaning: pointer delta/evolution transform in NDC-like coordinates.

#### Virtual-produced transformation slots

- `PointerTransformation`
  - Producer: `VirtualMousePointerTrafo`
  - Inputs: `NDCToWorld`, `PointerNDC`
  - Meaning: world-space pointer transform.

- `TrackballTransformation`
  - Producer: `VirtualRotation`
  - Inputs: `PointerNDC`, `CameraToWorld`
  - Meaning: incremental trackball rotation transform.

- `PointerTranslation`
  - Producer: `VirtualExtractTranslationTrafo`
  - Input: `PointerTransformation`
  - Meaning: translation-only pointer transform.

- `DeltaTranslation`
  - Producer: `VirtualEvolutionOperator`
  - Input: `PointerTranslation`
  - Meaning: frame-to-frame translation delta transform.

#### Implicitly maintained transformation slots (DeviceManager)

- `AvatarTransformation`
  - Meaning: avatar pose transform in world coordinates.

- `WorldToCamera`
  - Meaning: world-to-view transform.

- `CameraToWorld`
  - Meaning: inverse camera/view transform.

- `CameraToNDC`
  - Meaning: camera projection transform to NDC.

- `NDCToWorld`
  - Meaning: inverse projection/view composite back to world.

#### Configurable transformation-capable virtual slots

Not fixed to one slot name, but can produce transformations when configured:

- `VirtualInvertMatrix`
- `VirtualProductMatrix`

### 3) Suggested Next Translation Priorities

1. Translate high-impact missing tools (especially scale/navigation variants used by common demos).
2. Fill critical virtual device gaps needed by those tools (filters/extractors as required).
3. Revisit proxy/update parity only if concrete behavior gaps are observed in current apps.

