<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Descriptor CONTAINER Border/Label Test</title>
    <style>
      :root {
        /* Used by the container titled-border label background */
        --inspector-bg: #252526;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: #1e1e1e;
        color: #e0e0e0;
        margin: 0;
        padding: 20px;
      }

      h1 {
        margin: 0 0 6px 0;
      }

      p {
        margin-top: 0;
        color: #b8b8b8;
      }

      #app {
        display: flex;
        gap: 24px;
        align-items: flex-start;
      }

      #panel {
        width: 520px;
        background: #252526;
        border: 1px solid #333;
        border-radius: 6px;
        padding: 12px;
      }

      #notes {
        flex: 1;
        background: #252526;
        border: 1px solid #333;
        border-radius: 6px;
        padding: 12px;
      }

      .sg-prop-group-body {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      code {
        background: #161616;
        padding: 2px 6px;
        border-radius: 4px;
      }

      pre {
        background: #161616;
        padding: 10px;
        border-radius: 4px;
        overflow-x: auto;
      }
    </style>
  </head>
  <body>
    <h1>Descriptor CONTAINER: Border + Label</h1>
    <p>
      Verifies the new <code>border</code> and <code>containerLabel</code> options on
      <code>DescriptorType.CONTAINER</code>.
    </p>

    <div id="app">
      <div id="panel"></div>
      <div id="notes">
        <h3>Live state</h3>
        <pre id="state"></pre>
        <h3>What to look for</h3>
        <ul>
          <li>
            A titled border around the <b>Groups</b> container (column layout) with padding.
          </li>
          <li>
            A titled border around a nested <b>Row Controls</b> container (row layout) with two fields on one line.
          </li>
        </ul>
      </div>
    </div>

    <script type="module">
      import { DescriptorRenderer } from "../src/core/inspect/descriptors/DescriptorRenderer.js";
      import { DescriptorType } from "../src/core/inspect/descriptors/DescriptorTypes.js";

      const state = {
        alpha: 0.5,
        beta: 2,
        enabled: true,
        name: "demo"
      };

      const stateEl = document.getElementById("state");
      function updateState() {
        stateEl.textContent = JSON.stringify(state, null, 2);
      }

      const renderer = new DescriptorRenderer(document.getElementById("panel"));
      renderer.render(buildDescriptors());
      updateState();

      function buildDescriptors() {
        return [
          {
            key: "container-border-demo",
            title: "Container Border Demo",
            items: [
              {
                key: "groups-container",
                type: DescriptorType.CONTAINER,
                direction: "column",
                border: true,
                containerLabel: "Groups",
                items: [
                  {
                    key: "row-controls",
                    type: DescriptorType.CONTAINER,
                    direction: "row",
                    justify: "space-between",
                    border: true,
                    containerLabel: "Row Controls",
                    items: [
                      {
                        key: "alpha",
                        label: "Alpha",
                        type: DescriptorType.FLOAT,
                        min: 0,
                        max: 1,
                        step: 0.01,
                        getValue: () => state.alpha,
                        setValue: (v) => {
                          state.alpha = Number(v);
                          updateState();
                        }
                      },
                      {
                        key: "beta",
                        label: "Beta",
                        type: DescriptorType.INT,
                        min: 0,
                        max: 10,
                        step: 1,
                        getValue: () => state.beta,
                        setValue: (v) => {
                          state.beta = Number(v) | 0;
                          updateState();
                        }
                      }
                    ]
                  },
                  {
                    key: "enabled",
                    label: "Enabled",
                    type: DescriptorType.TOGGLE,
                    getValue: () => state.enabled,
                    setValue: (v) => {
                      state.enabled = Boolean(v);
                      updateState();
                    }
                  },
                  {
                    key: "name",
                    label: "Name",
                    type: DescriptorType.TEXT,
                    getValue: () => state.name,
                    setValue: (v) => {
                      state.name = String(v ?? "");
                      updateState();
                    }
                  }
                ]
              }
            ]
          }
        ];
      }
    </script>
  </body>
</html>


